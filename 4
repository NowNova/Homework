#include <iostream>

int main()
{
    int array[20'000], rav[10000];
    int n;
    std::cin >> n;
    for (int i = 0; i < n; ++i) {
        std::cout << "array[" << i << "]: ";
        std::cin >> array[i];
    }
    //поиск равенства первой и последней цифры числа
    int poslcifra = 0, soxr, percifr[10000];
    for (int i = 0; i < n; i++) {
        soxr = array[i];
        int percifra = 0;
        poslcifra = array[i] % 10;
        while (array[i] > 0) {
            percifra = array[i] % 10;
            array[i] /= 10;
        }
        array[i] = soxr;
        percifr[i] = percifra;
        if (percifra == poslcifra) {
            rav[i] = 1;
        }
        else {
            rav[i] = 0;
        }
    }
    //Удалить
    std::cout << '\n';
    int r = 0;
    while (r < n)
    {
        if (rav[r] == 1)
        {
            for (int j = r; j < n - 1; j++)
            {
                array[j] = array[j + 1];
                rav[j] = rav[j + 1];
            }
            n--;
        }
        else r++;
    }
    //Дублировать
    int k = 0;
    while (k < n)
    {
        if (percifr[k] == 3)
        {
            for (int j = n; j > k; j--) {
                array[j] = array[j - 1];
            }
            n++;
            k++;
        }
        k++;
    }
    for (int i = 0; i < n; i++) {
        std::cout << array[i] << " ";
    }
}

